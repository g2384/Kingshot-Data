<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Item Guide</title>
    <style>
        :root {
            --primary-color: #3b82f6;
            --primary-hover: #2563eb;
            --background: #f3f4f6;
            --text: #1f2937;
            --text-light: #6b7280;
            --container-bg: #fff;
            --shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--background);
            color: var(--text);
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            line-height: 1.5;
            max-width: 1500px;
        }

        .container {
            position: relative;
            overflow: hidden;
            background: var(--container-bg);
            padding: 0.5rem 2.5rem 2.5rem 2.5rem;
            border-radius: 1rem;
            box-shadow: var(--shadow);
            margin: 1rem;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        .category-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            border-bottom: 2px solid #ccc;
            padding-bottom: 5px;
            text-transform: capitalize;
        }

        .category-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 20px;
        }

        .item {
            display: flex;
            align-items: flex-start;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: var(--shadow);
            text-align: left;
            flex-wrap: wrap;
        }

        .item img {
            max-width: 100px;
            margin-right: 15px;
            margin-top: 5px;
            flex-shrink: 0;
        }

        .item-content {
            flex: 1;
            min-width: 0;
        }

        .item-content h2 {
            font-size: 1.1em;
            margin: 0px 0 5px;
            word-wrap: break-word;
        }

        .item-content p {
            font-size: 0.9em;
            margin: 5px 0;
            word-wrap: break-word;
        }

        .save {
            color: red;
        }

        .nosave {
            color: green;
        }

        /* Mobile styles */
        @media (max-width: 700px) {
            body {
                max-width: 100%;
                padding: 0 10px;
            }

            .container {
                padding: 1rem;
                margin: 0.5rem;
                border-radius: 0.5rem;
            }

            h1 {
                font-size: 1.5em;
                margin-bottom: 20px;
            }

            .category-title {
                font-size: 1.2em;
                margin-bottom: 15px;
            }

            .category-items {
                display: block;
            }

            .item {
                flex-direction: row;
                padding: 10px;
                margin-bottom: 15px;
            }

            .item img {
                max-width: 60px;
                margin-right: 10px;
            }

            .item-content h2 {
                font-size: 1em;
                margin: 5px 0;
            }

            .item-content p {
                font-size: 0.85em;
                margin: 3px 0;
            }
        }
    </style>
</head>

<body>
    <h1>Kingshot Item Guide</h1>
    <div style="margin-left:3rem">
        <p>Note: "Sources" are recommended sources</p>
    </div>
    <div id="item-list"></div>
    <script>
        const data = [
            {
                "name": "Governor Stamina (Item)",
                "image": "governor_stamina.png",
                "purpose": "Restores 10 Governor Stamina.",
                "saveForEvent": true,
                "category": "Resource",
                "source": "Events",
                "event": "Cesares Fury"
            },
            {
                "name": "Governor Stamina (Passive)",
                "image": "governor_stamina_resource.png",
                "purpose": "For attacking beasts, terrors.",
                "saveForEvent": false,
                "category": "Resource",
                "source": "Restores 1 every 5 minutes, stops passive growing when stamina reaches 200 or higher. Recover another 120 every 12 hours.",
                "event": "Daily Missions, Watchtower Intels, Desert Trial",
                "useAfter": "between some events"
            },
            {
                "name": "Construction Speedup (Any)",
                "image": "construction_speedup.png",
                "purpose": "Speeds up construction.",
                "saveForEvent": true,
                "category": "Speedup",
                "source": "Daily Missions, Terrors, Alliance Chests, Online Rewards, Events",
                "event": "Hall of Governors, Plan Your City, Kingdom of Power (KVK), etc"
            },
            {
                "name": "Research Speedup (Any)",
                "image": "research_speedup.png",
                "purpose": "Speeds up research.",
                "saveForEvent": true,
                "category": "Speedup",
                "source": "Daily Missions, Terrors, Alliance Chests, Online Rewards, Events",
                "event": "Hall of Governors, Plan Your City, Kingdom of Power (KVK), etc"
            },
            {
                "name": "Training Speedup (Any)",
                "image": "training_speedup.png",
                "purpose": "Speeds up troop training.",
                "saveForEvent": true,
                "category": "Speedup",
                "source": "Daily Missions, Terrors, Alliance Chests, Online Rewards, Events",
                "event": "Hall of Governors, Power Up, Kingdom of Power (KVK), etc"
            },
            {
                "name": "Hero XP (Any)",
                "image": "hero_xp.png",
                "purpose": "Levels up heroes. Best used during hero growth events.",
                "saveForEvent": false,
                "category": "Hero",
                "source": "Beasts, Terrors, Daily Missions, Conquest, Events",
                "event": "-"
            },
            {
                "name": "Conquest Skill Book (Any)",
                "image": "epic_conquest_skill_book.png",
                "purpose": "Levels up conquest skills.",
                "saveForEvent": false,
                "category": "Hero",
                "source": "Terrors, Daily Missions, Watchtower Intels, Conquest, VIP Daily",
                "useAfter": "after Day 4",
                "event": "Day 4, Path of Growth"
            },
            {
                "name": "Expedition Skill Manual (Any)",
                "image": "epic_expedition_skill_manual.png",
                "purpose": "Levels up expedition skills.",
                "saveForEvent": false,
                "category": "Hero",
                "source": "Terrors, Daily Missions, Watchtower Intels, Conquest, VIP Daily",
                "useAfter": "after Day 4",
                "event": "Day 4, Path of Growth"
            },
            {
                "name": "Hero Shard (Any)",
                "image": "mythic_general_hero_shard.png",
                "purpose": "For ascending heroes.",
                "saveForEvent": true,
                "category": "Hero",
                "source": "Terrors, Daily Missions, Watchtower Intels, Conquest, VIP Daily",
                "event": "Hall of Governors, Grow Your Heroes, Kingdom of Power (KVK), etc"
            },
            {
                "name": "Key (Any)",
                "image": "gold_key.png",
                "purpose": "Hero Recruitment.",
                "saveForEvent": true,
                "category": "Hero",
                "source": "Daily Missions, Free 5 Silver Key Daily, Free 1 Gold Key every 2 Days, Events",
                "event": "Call of the Sovereign (Unlocks Gen 3 Heroes). Note you don't need to save for Beast Whisperer (Day 55-60) as you get enough free keys over 7 days period.",
                "useAfter": "between some events"
            },
            {
                "name": "Enhancement XP Part",
                "image": "enhancement_xp_part.png",
                "purpose": "Adds XP to gear enhancement.",
                "saveForEvent": false,
                "category": "Gear",
                "source": "Various sources",
                "useAfter": "after Day 27",
                "event": "2nd Hall of Governors (Day 20-27), Steel Edge (Day 10)"
            },
            {
                "name": "Artisan's Vision",
                "image": "artisans_vision.png",
                "purpose": "For Governor Gear upgrade.",
                "saveForEvent": true,
                "category": "Gear",
                "source": "Events, Swordland, War Chant Custom Chest, Alliance Championship Shop (may not be available at lower levels)",
                "event": "Hall of Governors, Kingdom of Power (KVK)"
            },
            {
                "name": "Charm Design",
                "image": "charm_design.png",
                "purpose": "For Governor Gear Charm upgrade.",
                "saveForEvent": true,
                "category": "Gear",
                "source": "Events",
                "event": "Hall of Governors, Strongest Governor, Kingdom of Power (KVK)"
            },
            {
                "name": "Charm Guide",
                "image": "charm_guide.png",
                "purpose": "For Governor Gear Charm upgrade.",
                "saveForEvent": true,
                "category": "Gear",
                "source": "Events",
                "event": "Hall of Governors, Strongest Governor, Kingdom of Power (KVK)"
            },
            {
                "name": "Taming Mark (Any)",
                "image": "common_taming_mark.png",
                "purpose": "Used to tame basic beasts.",
                "saveForEvent": true,
                "category": "Pet",
                "source": "Beast Hunts",
                "event": "Strongest Governor, Alliance Brawl, Kingdom of Power (KvK)"
            },
            {
                "name": "Forgehammer",
                "image": "forgehammer.png",
                "purpose": "Levels up Mythic Hero Gear Mastery.",
                "saveForEvent": true,
                "category": "Gear",
                "source": "Events, Bear Hunt",
                "event": "Hall of Governors, Stand of Arms, Kingdom of Power (KVK)"
            },
            {
                "name": "Gilded Threads",
                "image": "gilded_threads.png",
                "purpose": "For Governor Gear upgrade.",
                "saveForEvent": true,
                "category": "Gear",
                "source": "Viking King, Alliance Championship Shop",
                "event": "Hall of Governors, Alliance Brawl, Kingdom of Power (KVK)"
            },
            {
                "name": "Satin",
                "image": "satin.png",
                "purpose": "For Governor Gear upgrade.",
                "saveForEvent": true,
                "category": "Gear",
                "source": "Terror, Beast, Viking King",
                "event": "Hall of Governors, Alliance Brawl, Kingdom of Power (KVK)"
            },
            {
                "name": "Nutrient Potion",
                "image": "nutrient_potion.png",
                "purpose": "For pet advancement.",
                "saveForEvent": true,
                "category": "Pet",
                "source": "Beast Hunts",
                "event": "Strongest Governor, Alliance Brawl, Kingdom of Power (KvK)"
            },
            {
                "name": "Growth Manual",
                "image": "growth_manual.png",
                "purpose": "For pet advancement.",
                "saveForEvent": true,
                "category": "Pet",
                "source": "Beast Hunts",
                "event": "Strongest Governor, Alliance Brawl, Kingdom of Power (KvK)"
            }
        ];

        const container = document.getElementById('item-list');
        const grouped = {};

        data.forEach(item => {
            if (!grouped[item.category]) {
                grouped[item.category] = [];
            }
            grouped[item.category].push(item);
        });

        Object.keys(grouped).forEach(category => {
            const section = document.createElement('div');
            section.className = 'category-section container';

            const title = document.createElement('h2');
            title.className = 'category-title';
            title.textContent = category;
            section.appendChild(title);

            // NEW: container for items
            const itemsWrapper = document.createElement('div');
            itemsWrapper.className = 'category-items';

            grouped[category].forEach(item => {
                useAfter = '';
                var saveForEvent = `<p class="save">🔴 Save for events</p>`
                if (item.useAfter) {
                    saveForEvent = `<p class="nosave">🟡 Use ${item.useAfter}</p>`;
                }
                else if (!item.saveForEvent) {
                    var saveForEvent = `<p class="nosave">🟢 Use Anytime</p>`;
                }

                const div = document.createElement('div');
                div.className = 'item';
                div.innerHTML = `
          <img src="./images/items/${item.image}" alt="${item.name}" />
          <div class="item-content">
            <h2>${item.name}</h2>
            <p>${item.purpose}</p>
            <p><strong>Source:</strong> ${item.source}</p>
            <p><strong>Save for:</strong> ${item.event}</p>
            ${saveForEvent}
          </div>
        `;
                itemsWrapper.appendChild(div);
            });

            section.appendChild(itemsWrapper);
            container.appendChild(section);
        });

    </script>
</body>

</html>